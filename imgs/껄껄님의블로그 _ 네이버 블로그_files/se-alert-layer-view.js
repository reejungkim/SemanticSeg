(window.__se_editor_jsonp=window.__se_editor_jsonp||[]).push([[26],{1289:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=r(50),a=r.n(i),s=r(54),l=r.n(s),p=r(52),c=r(49),u=r(345),m=r(94),f=r(359),d=r(361),C=r(360),_=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var r=t.prototype;return r.renderButtons=function(){var e=this.props.i18n;return c.b.createElement("div",{className:"se-popup-button-container"},c.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",onClick:this.props.onClickConfirm},c.b.createElement("span",{className:"se-popup-button-text"},e("alertLayer:confirm"))))},r.render=function(){var e=this.props,t=e.title,r=e.description;return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br/>")}})),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-alert-text",dangerouslySetInnerHTML:{__html:r.replace(/\n/g,"<br/>")}})),this.renderButtons())},t}(c.b.Component);_.defaultProps={i18n:function(e){return e},title:"",description:"",errorList:[],onClickConfirm:function(){}},_.propTypes={i18n:c.a.func,title:c.a.string.isRequired,description:c.a.string.isRequired,errorList:c.a.array,onClickConfirm:c.a.func.isRequired};var h=_,b=r(68),E=r(51),g=r(686),y="image",v="video",N=function(e){function t(t){var r;return(r=e.call(this,t)||this)._configAgent=E.W.get("configAgent"),r._infraConfig=r._configAgent.get("infraConfig"),r._denyAnimatedImage=!!r._configAgent.get("modules.photoUploader.config.denyAnimatedImage"),r}o()(t,e);var r=t.prototype;return r.UNSAFE_componentWillMount=function(){},r.render=function(){var e=this.props,t=e.title,r=e.description,n=e.i18n,o=this._renderFileFormatError(),i=this._renderOverCapacityError(),a=this._renderFileUnknown(),s=this._renderAttachmentCountError(),l=this._renderDenyAnimatedImageError(),p=this._renderErrorList();return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title"},t)),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-error-text",dangerouslySetInnerHTML:{__html:r}}),c.b.createElement("div",{className:"se-popup-error-detail-box"},c.b.createElement("button",{type:"button",className:"se-popup-error-detail-button"},c.b.createElement("span",{className:"se-blind"},n("fileTransfer:error_details"))),c.b.createElement("ul",{className:"se-popup-error-detail"},o,i,a,s,l)),c.b.createElement("div",{className:"se-popup-error-list-box"},c.b.createElement("ul",{className:"se-popup-error-list"},p))),c.b.createElement("div",{className:"se-popup-button-container"},c.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",onClick:this.props.onClickConfirm},c.b.createElement("span",{className:"se-popup-button-text"},n("alertLayer:confirm")))))},r._renderFileFormatError=function(){if(!this._getShowErrorInfo().fileFormat)return null;var e=this.props,t=e.i18n,r=e.fileType,n=void 0===r?y:r,o=e.errorList,i=void 0===o?[]:o,a=this._resolveAcceptExt(i),s=n===v?g.a.DEFAULT_VIDEO_ACCEPT_LIST:g.a.DEFAULT_IMAGE_ACCEPT_LIST,l=this._infraConfig[n].acceptExt||a||s,p=this._denyAnimatedImage?g.a.exceptFileExt(l,g.a.DEFAULT_ANIMATED_IMAGE_LIST):l,u=g.a.toPrintUpperText(p);return c.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:t("fileTransfer:file_format_error",{allowExtList:u})}})},r._resolveAcceptExt=function(e){return 0===e.length?null:e.reduce(function(e,t){return(e.accept&&e.accept.split(",").length||1/0)<=(t.accept&&t.accept.split(",").length||1/0)?e:t}).accept||null},r._renderOverCapacityError=function(){if(!this._getShowErrorInfo().overCapacity)return null;var e=this.props,t=e.i18n,r=e.fileType,n=(void 0===r?y:r)===v?this._infraConfig.video.maxVideoUploadSize:this._infraConfig.image.maxImageUploadSize;return c.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:t("fileTransfer:over_capacity_error",{maxUploadSize:g.a.convertToFileSizeUnit(n)})}})},r._renderFileUnknown=function(){if(!this._getShowErrorInfo().fileUnknown)return null;var e=this.props.i18n;return c.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:e("fileTransfer:file_unknown")}})},r._renderDenyAnimatedImageError=function(){if(!this._denyAnimatedImage)return null;var e=this.props.i18n;return c.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:e("fileTransfer:deny_animated_image")}})},r._renderAttachmentCountError=function(){if(!this._getShowErrorInfo().attachmentCount)return null;var e=this.props,t=e.i18n,r=e.fileType,n=(void 0===r?y:r)===v?this._infraConfig.video.videoUploadLimitCount:this._infraConfig.image.imageUploadLimitCount;return c.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:t("fileTransfer:attachment_count_error",{maxUploadCount:n})}})},r._renderErrorList=function(){return this.props.errorList.map(function(e,t){var r=e.id,n=e.fileName,o=e.cause,i=r||t;return c.b.createElement("li",{key:i,className:"se-popup-error-list-item"},c.b.createElement("p",{className:"se-popup-error-file-name"},n),c.b.createElement("strong",{className:"se-popup-error-status"},o))})},r._getShowErrorInfo=function(){return Object(b.a)({},this.props.showErrorInfo,{fileFormat:!0,overCapacity:!0,fileUnknown:!0,attachmentCount:!0})},t}(c.b.Component);N.defaultProps={i18n:function(e){return e},title:"",description:"",errorList:[],onClickConfirm:function(){}},N.propTypes={i18n:c.a.func,fileType:c.a.string,title:c.a.string.isRequired,description:c.a.string.isRequired,errorList:c.a.array,onClickConfirm:c.a.func.isRequired,showErrorInfo:c.a.object};var k=N,L=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var r=t.prototype;return r.renderButtons=function(){var e=this.props.i18n;return c.b.createElement("div",{className:"se-popup-button-container"},c.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-cancel",onClick:this.props.onClickCancel},c.b.createElement("span",{className:"se-popup-button-text"},e("alertLayer:cancel"))),c.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",onClick:this.props.onClickConfirm},c.b.createElement("span",{className:"se-popup-button-text"},e("alertLayer:confirm"))))},r.render=function(){var e=this.props,t=e.title,r=e.description;return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br/>")}})),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-alert-text",dangerouslySetInnerHTML:{__html:r.replace(/\n/g,"<br/>")}})),this.renderButtons())},t}(c.b.Component);L.defaultProps={i18n:function(e){return e},title:"",description:"",errorList:[],onClickConfirm:function(){},onClickCancel:function(){}},L.propTypes={i18n:c.a.func,title:c.a.string.isRequired,description:c.a.string.isRequired,errorList:c.a.array,onClickConfirm:c.a.func.isRequired,onClickCancel:c.a.func.isRequired};var I,T=L,A=(I=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var r=t.prototype;return r.render=function(){var e=this.props.store,t=this._resolveWrapperClassName(),r=this._resolveContentLayer();return c.b.createElement(m.a,{opened:e.opened,className:t,isDimUse:e.isDimUse,dimColor:e.dimColor},r)},r._resolveWrapperClassName=function(){var e,t=this.props.store,r=t.type,n=t.className,o=[C.a.ALERT,C.a.CONFIRM,C.a.LOGIN].includes(r),i=C.a.CONFIRM.includes(r),a=r===C.a.FILE;return l()(((e={"se-popup-alert":o,"se-popup-alert-confirm":i,"se-popup-transfer-error":a})[this.props.className]=!!this.props.className,e[n]=!!n,e))},r._resolveContentLayer=function(){var e=this.props,t=e.store,r=e.i18n,n=t.title,o=t.description,i=t.errorList,a=t.showErrorInfo,s=t.type,l=t.fileType,p=t.custom;switch(s){case C.a.CUSTOM:return c.b.createElement(p.Layout,{custom:p,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,onClickClose:this._onClickClose,i18n:r});case C.a.FILE:return c.b.createElement(k,{title:n,description:o,errorList:c.f.toJS(i),showErrorInfo:a,fileType:l,onClickConfirm:this._onClickConfirm,i18n:r});case C.a.ALERT:case C.a.LOGIN:return c.b.createElement(h,{title:n,description:o,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,i18n:r});case C.a.CONFIRM:return c.b.createElement(T,{title:n,description:o,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,i18n:r});default:return c.b.createElement(h,{title:n,description:o,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,i18n:r})}},r._onClickConfirm=function(){this.props.useCase.confirm()},r._onClickCancel=function(){this.props.useCase.cancel()},r._onClickClose=function(){this.props.useCase.close()},t}(c.b.Component),a()(I.prototype,"_onClickConfirm",[p.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_onClickConfirm"),I.prototype),a()(I.prototype,"_onClickCancel",[p.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_onClickCancel"),I.prototype),a()(I.prototype,"_onClickClose",[p.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_onClickClose"),I.prototype),I);A.defaultProps={i18n:function(e){return e}},A.propTypes={useCase:c.a.instanceOf(f.a).isRequired,store:c.a.instanceOf(d.a).isRequired,className:c.a.string,i18n:c.a.func};t.default=Object(u.b)(A)}}]);