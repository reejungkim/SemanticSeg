(window.__se_editor_jsonp=window.__se_editor_jsonp||[]).push([[0],{158:function(t,e,i){"use strict";function n(t){return void 0===t}i.r(e);var r=function(){function t(){this.options={},this._eventHandler={}}var e=t.prototype;return e.trigger=function(t){for(var e=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=this._eventHandler[t]||[];if(!(r.length>0))return!0;var s=i[0]||{},o=i.slice(1);r=r.concat();var a=!1;s.eventType=t,s.stop=function(){a=!0},s.currentTarget=this;var h=[s];return o.length>=1&&(h=h.concat(o)),r.forEach(function(t){t.apply(e,h)}),!a},e.once=function(t,e){var i=this;if("object"==typeof t&&n(e)){var r=t;for(var s in r)this.once(s,r[s]);return this}if("string"==typeof t&&"function"==typeof e){var o=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.apply(i,n),i.off(t,o)};this.on(t,o)}return this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&n(e)){var i=t;for(var r in i)this.on(r,i[r]);return this}if("string"==typeof t&&"function"==typeof e){var s=this._eventHandler[t];n(s)&&(this._eventHandler[t]=[],s=this._eventHandler[t]),s.push(e)}return this},e.off=function(t,e){var i,r;if(n(t))return this._eventHandler={},this;if(n(e)){if("string"==typeof t)return delete this._eventHandler[t],this;var s=t;for(var o in s)this.off(o,s[o]);return this}var a=this._eventHandler[t];if(a){var h=0;try{for(var u=
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),c=u.next();!c.done;c=u.next()){if(c.value===e){a.splice(h,1);break}h++}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return this},t.VERSION="2.2.2",t}();i.d(e,"GridLayout",function(){return _t}),i.d(e,"FrameLayout",function(){return mt}),i.d(e,"SquareLayout",function(){return zt}),i.d(e,"PackingLayout",function(){return Ct}),i.d(e,"JustifiedLayout",function(){return Mt}),i.d(e,"Infinite",function(){return nt}),i.d(e,"ImageLoaded",function(){return ht}),i.d(e,"AutoSizer",function(){return ot}),i.d(e,"DOMRenderer",function(){return et}),i.d(e,"Watcher",function(){return it}),i.d(e,"ItemManager",function(){return $}),i.d(e,"LayoutManager",function(){return ct});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var s,o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h,u=(s="undefined"==typeof window?{document:{},navigator:{userAgent:""}}:window).document,c=s.navigator.userAgent,l=!!("getComputedStyle"in s),f=!!("addEventListener"in u),d=function(){var t=!1;try{f&&Object.defineProperty&&u.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}(),p=/MSIE|Trident|Windows Phone|Edge/.test(c),g=/iPhone|iPad/.test(c),_=/Android 2\./.test(c),v="_eg-infinitegrid-container_",m="vertical",y="horizontal",z={horizontal:!1,margin:0},S=c.toLowerCase(),w=(/mobi|ios|android/.test(S),"start"),C="center",I="end",E="justify",M=/applewebkit\/([\d|.]*)/g.exec(S),L=M&&parseInt(M[1],10)||0,x=L&&L<537,P=(h=function(){var t={transitionend:"",webkitTransitionEnd:"-webkit-",MSTransitionEnd:"-ms-",oTransitionEnd:"-o-",mozTransitionEnd:"-moz-"};for(var e in t){var i=t[e];if("on"+e.toLowerCase()in s)return[i+"transform",i+"transition",e]}return[]}())[0],O=h[1],b=h[2];function A(t){var e=[];if(t)for(var i=0,n=t.length;i<n;i++)e.push(t[i]);return e}function T(t){return t.match(/^<([A-z]+)\s*([^>]*)>/)}function R(t,e){var i;if(void 0===e&&(e=!1),"string"==typeof t){if(T(t)){var n=u.createElement("div");n.innerHTML=t,i=n.childNodes}else i=u.querySelectorAll(t);return e?A(i):i&&i[0]}return Y(t)?i=t:!function(t){return"function"==typeof s.jQuery&&t instanceof s.jQuery||t.constructor.prototype.jquery&&t.toArray}(t)?Array.isArray(t)?(i=t.map(function(t){return R(t)}),e||(i=i.length>=1?i[0]:void 0)):!t.nodeName||1!==t.nodeType&&9!==t.nodeType||(i=t):i=e?R(t.toArray(),!0):R(t.get(0),!1),i}function k(t,e,i,n){if(f){var r=n||!1;"object"==typeof n&&(r=!!d&&n),t.addEventListener(e,i,r)}else t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}function F(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null}function N(t){return(l?s.getComputedStyle(t):t.currentStyle)||{}}function H(t,e,i){if(Y(t))return s["inner"+e]||u.body["client"+e];if(function(t){return 9===t.nodeType}(t)){var n=t.documentElement,r=t.body;return Math.max(r["scroll"+e],n["scroll"+e],r["offset"+e],n["offset"+e],n["client"+e])}var o=0;if(i){var a=t.getBoundingClientRect();o="Width"===e?a.right-a.left:a.bottom-a.top}else o=t["client"+e]||t["offset"+e];return parseFloat(o||N(t)[e.toLowerCase()])||0}function V(t){return H(t,"Width",!1)}function q(t){return H(t,"Height",!1)}function B(t){return H(t,"Width",!0)}function j(t){return H(t,"Height",!0)}function K(t){return{width:B(t),height:j(t)}}var D={vertical:{startPos1:"top",endPos1:"bottom",size1:"height",startPos2:"left",endPos2:"right",size2:"width"},horizontal:{startPos1:"left",endPos1:"right",size1:"width",startPos2:"top",endPos2:"bottom",size2:"height"}};function W(t){return D[t?y:m]}function X(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.forEach(function(e){for(var i in e)t[i]=e[i]}),t}function G(t,e){return X({},z,t,e)}function U(t){return t.map(function(t){return X({},t)})}function Y(t){return t===s}function Q(t,e){for(var i=t.length-1;i>=0;--i)t[i]=e;return t}function J(t){return void 0===t}var $=function(){function t(){this.clear()}var e=t.prototype;return t.from=function(e,i,n){var r=n.groupKey;return A(t.selectItems(R(e,!0),i)).map(function(t){return{el:t,groupKey:r,content:t.outerHTML,rect:{top:-1e5,left:-1e5}}})},t.selectItems=function(t,e){return t.filter(function(t){var i=t.className.split(" ");return!i.some(function(t){return"_eg-infinitegrid-ignore_"===t})&&(e&&"*"!==e?i.some(function(t){return t===e}):t)})},t.pluck=function(t,e){return t.reduce(function(t,i){return t.concat(i[e])},[])},e.getStatus=function(t,e){var i=this._data,n=Math.max(this.indexOf(t),0),r=this.indexOf(e)+1||i.length;return{_data:i.slice(n,r).map(function(t){var e=t.items.map(function(t){var e=X({},t);return delete e.el,e}),i=X({},t);return i.items=e,i})}},e.setStatus=function(t){var e=t._data;this.set(e)},e.size=function(){return this._data.length},e.fit=function(t,e){if(this._data.length){var i=e?"left":"top";0!==t&&(this._data=this._data.map(function(e){return e.items=e.items.map(function(e){return e.rect[i]-=t,e}),e.outlines.start=e.outlines.start.map(function(e){return e-t}),e.outlines.end=e.outlines.end.map(function(e){return e-t}),e}))}},e.pluck=function(e,i,n){var r=J(i)?this._data:this._data.slice(i,(J(n)?i:n)+1);return t.pluck(r,e)},e.getOutline=function(t,e){var i=this._data[t];return i?i.outlines[e]:[]},e.getEdgeIndex=function(t,e,i){for(var n="start"===t?"min":"max",r=-1,s="start"===t?1/0:-1/0,o=e;o<=i;o++){var a=Math[n].apply(Math,this.getOutline(o,t));("start"===t&&s>a||"end"===t&&s<a)&&(s=a,r=o)}return r},e.getEdgeValue=function(t,e,i){var n=this.pluck("outlines",this.getEdgeIndex(t,e,i)).reduce(function(e,i){return e.concat(i[t])},[]);return n.length?Math["start"===t?"min":"max"].apply(Math,n):0},e.clearOutlines=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=-1),this.get().forEach(function(i,n){t<=n&&n<=e||(i.items.forEach(function(t){t.rect.top=-1e5,t.rect.left=-1e5}),i.outlines.start=[],i.outlines.end=[])})},e.getMaxEdgeValue=function(){for(var t=this.get(),e=t.length-1;e>=0;--e){var i=t[e].outlines.end;if(i.length)return Math.max.apply(Math,i)}return 0},e.append=function(t){return this._data.push(t),t.items},e.prepend=function(t){return this._data.unshift(t),t.items},e.clear=function(){this._data=[]},e.remove=function(t,e,i){var n=[],r=[],s=t.getAttribute("data-groupkey"),o=this.get(e,i).filter(function(t){return String(t.groupKey)===s});if(!o.length)return{items:n,groups:r};for(var a=o[0],h=a.items.length,u=-1,c=0;c<h;c++)if(a.items[c].el===t){u=c;break}return u>=0&&(n=a.items.splice(u,1),a.items.length?this.set(a,s):(this._data.splice(this.indexOf(a),1),r=[a])),{items:n,groups:r}},e.indexOf=function(t){for(var e="object"==typeof t?t.groupKey:t,i=this._data,n=i.length,r=0;r<n;++r)if(e===i[r].groupKey)return r;return-1},e.get=function(t,e){return J(t)?this._data:this._data.slice(t,(J(e)?t:e)+1)},e.set=function(t,e){if(Array.isArray(t))this._data=t.concat();else if(!J(e)){for(var i=this._data.length,n=-1,r=0;r<i;r++)if(this._data[r].groupKey===e){n=r;break}n>0&&(this._data[n]=t)}},e.getData=function(t){return this._data[t]},t}();function Z(t,e,i){t.forEach(function(t){t in e&&(i[t]=e[t]+"px")})}function tt(t,e,i,n){t[O+"-property"]=e?P+",width,height":"",t[O+"-duration"]=e?e+"s":"",t[O+"-delay"]=e?"0s":"",t[P]=e?"translate("+(i.left-n.left)+"px,"+(i.top-n.top)+"px)":""}var et=function(){function t(t,e){this.options={isEqualSize:!1,isConstantSize:!1,horizontal:!1,container:!1},this._size={container:-1,view:-1,viewport:-1,item:null},this._orgStyle={},X(this.options,e),this._init(t),this.resize()}var e=t.prototype;return t.renderItem=function(t,e,i){if(t.el){var n=t.el,r=t.prevRect,s=n.style;if(n.setAttribute("data-groupkey",""+t.groupKey),s.position="absolute",Z(["width","height"],e,s),i&&O&&r){if(tt(s,i,e,r),n._INFINITEGRID_TRANSITION)return;n._INFINITEGRID_TRANSITION=!0,function(t,e,i,n){var r=function(n){F(t,e,r),i(n)};k(t,e,r,n)}(n,b,function(){var e=t.rect;tt(s),Z(["left","top"],e,s),t.prevRect=e,n._INFINITEGRID_TRANSITION=!1})}else Z(["left","top"],e,s),t.prevRect=e}},t.renderItems=function(e,i){e.forEach(function(e){t.renderItem(e,e.rect,i)})},t.removeItems=function(e){e.forEach(function(e){e.el&&(t.removeElement(e.el),e.el=null)})},t.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},t.createElements=function(t){if(t.length){var e=t.filter(function(t){return!t.el});if(e.length){var i=R(e.map(function(t){return t.content.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}).join(""),!0);e.forEach(function(t,e){t.el=i[e]})}}},e.getStatus=function(){return{cssText:this.container.style.cssText,_size:X({},this._size)}},e.setStatus=function(t){this.container.style.cssText=t.cssText,X(this._size,t._size)},e.updateSize=function(t){var e=this.options,i=e.isEqualSize,n=e.isConstantSize,r=this._size;return t.map(function(t){return t.el?(i&&!r.item&&(r.item=K(t.el)),t.size=i&&X({},r.item)||n&&t.orgSize&&X({},t.orgSize)||K(t.el),t.orgSize||(t.orgSize=X({},t.size)),t):t})},e.append=function(t){this._insert(t,!0,{top:-1e5,left:-1e5})},e.prepend=function(t){this._insert(t,!1,{top:-1e5,left:-1e5})},e.createAndInsert=function(e,i){t.createElements(e),t.renderItems(e),this._insert(e,i)},e.getViewSize=function(){return this._size.view},e.getViewportSize=function(){return this._size.viewport},e.getContainerSize=function(){return this._size.container},e.setContainerSize=function(t){this._size.container=t,this.container.style[this.options.horizontal?"width":"height"]=t+"px"},e.resize=function(){var t=this.options.horizontal,e=this.view,i=this.isNeededResize();return i&&(this._size={viewport:this._calcSize(),item:null}),this._size.view=t?V(e):q(e),i},e.isNeededResize=function(){return this._calcSize()!==this._size.viewport},e.clear=function(){this.container.innerHTML="",this.container.style[this.options.horizontal?"width":"height"]="",this._size={item:null,viewport:-1,container:-1,view:-1}},e.destroy=function(){this.clear();var t=this.options.container;for(var e in this._orgStyle)this[t?"view":"container"].style[e]=this._orgStyle[e];t&&this.container.parentNode.removeChild(this.container)},e._init=function(t){var e=R(t),i=N(e),n=this.options,r=n.container,o=n.horizontal;if("static"===i.position&&(this._orgStyle.position=e.style.position,e.style.position="relative"),r){var a=o?["X","Y"]:["Y","X"];this._orgStyle.overflowX=e.style.overflowX,this._orgStyle.overflowY=e.style.overflowY,e.style["overflow"+a[0]]="scroll",e.style["overflow"+a[1]]="hidden",this.view=e,this.container=!0===r?function(t){var e=u.createElement("div");e.className=v,e.style.position="relative",e.style.height="100%";for(var i=t.children,n=i.length,r=0;r<n;r++)e.appendChild(i[0]);return t.appendChild(e),e}(this.view):r}else this.view=s,this.container=e},e._insert=function(e,i,n){var r=this.container,s=u.createDocumentFragment();e.forEach(function(e){n&&t.renderItem(e,n),i?s.appendChild(e.el):s.insertBefore(e.el,s.firstChild)}),i?r.appendChild(s):r.insertBefore(s,r.firstChild)},e._calcSize=function(){return this.options.horizontal?q(this.container):V(this.container)},t}(),it=function(){function t(t,e){void 0===e&&(e={}),X(this.options={container:t,resize:function(){},check:function(){},isOverflowScroll:!1,horizontal:!1},e),this._timer={resize:null},this.reset(),this._containerOffset=0,this._view=t,this._isScrollIssue=g,this._onCheck=this._onCheck.bind(this),this._onResize=this._onResize.bind(this),this.attachEvent(),this.resize(),this.setScrollPos()}var e=t.prototype;return e.getStatus=function(){return{_prevPos:this._prevPos,scrollPos:this.getOrgScrollPos()}},e.setStatus=function(t,e){void 0===e&&(e=!0),this._prevPos=t._prevPos,e&&this.scrollTo(t.scrollPos)},e.scrollBy=function(t){var e=this.options.horizontal?[t,0]:[0,t];!function(t,e,i){Y(t)?t.scrollBy(e,i):(t.scrollLeft+=e,t.scrollTop+=i)}(this._view,e[0],e[1]),this.setScrollPos()},e.scrollTo=function(t){var e=this.options.horizontal?[t,0]:[0,t];!function(t,e,i){Y(t)?t.scroll(e,i):(t.scrollLeft=e,t.scrollTop=i)}(this._view,e[0],e[1])},e.getScrollPos=function(){return this._prevPos},e.setScrollPos=function(t){void 0===t&&(t=this.getOrgScrollPos());var e=t;void 0===t&&(e=this.getOrgScrollPos()),this._prevPos=e-this.getContainerOffset()},e.attachEvent=function(){k(this._view,"scroll",this._onCheck),k(s,"resize",this._onResize)},e.getOrgScrollPos=function(){return function(t,e){void 0===e&&(e=!1);var i="scroll"+(e?"Left":"Top");return Y(t)?s[e?"pageXOffset":"pageYOffset"]||u.body[i]||u.documentElement[i]:t[i]}(this._view,this.options.horizontal)},e.reset=function(){this._prevPos=null},e.getContainerOffset=function(){return this._containerOffset},e.resize=function(){this._containerOffset=this.options.isOverflowScroll?0:this._getOffset()},e.detachEvent=function(){F(this._view,"scroll",this._onCheck),F(s,"resize",this._onResize)},e.destroy=function(){this.detachEvent(),this.reset()},e._onCheck=function(){var t=this.getScrollPos(),e=this.getOrgScrollPos();this.setScrollPos(e);var i=this.getScrollPos();null===t||this._isScrollIssue&&0===e||t===i?e&&(this._isScrollIssue=!1):(this._isScrollIssue=!1,this.options.check({isForward:t<i,scrollPos:i,orgScrollPos:e,horizontal:this.options.horizontal}))},e._getOffset=function(){var t=this.options,e=t.container,i=t.horizontal;return e.getBoundingClientRect()[i?"left":"top"]+this.getOrgScrollPos()},e._onResize=function(){var t=this;this._timer.resize&&clearTimeout(this._timer.resize),this._timer.resize=setTimeout(function(){t.resize(),t.options.resize(),t._timer.resize=null,t.reset()},100)},t}();var nt=function(){function t(t,e){this.options=X({useRecycle:!0,threshold:100,append:function(){},prepend:function(){},recycle:function(){}},e),this._items=t,this.clear()}var e=t.prototype;return e.setSize=function(t){this._status.size=t},e.recycle=function(t,e){if(this.options.useRecycle){var i=this._status,n=i.startCursor,r=i.endCursor,s=i.size;if(-1!==n&&-1!==r){var o=t+s,a=this.options,h=a.threshold,u=a.recycle,c=this._items.get(n,r).map(function(e){return function(t,e,i,n){var r=t.items,s=t.outlines,o=s.start,a=s.end;if(0===o.length||0===a.length||!r.length||!r[0].el)return 2;var h=Math.min.apply(Math,o),u=Math.max.apply(Math,a);return n+e<h?1:i-e>u?-1:0}(e,h,t,o)}),l=c.length,f=e?0:c.lastIndexOf(0),d=e?c.indexOf(0)-1:c.length-1;e||-1===f||(f+=1),f<0||d<0||f>d||d-f+1>=l||(u({start:f=n+f,end:d=n+d}),e?this.setCursor("start",d+1):this.setCursor("end",f-1))}}},e.scroll=function(t){var e=this.getCursor("start"),i=this.getCursor("end"),n=this._items;if("number"==typeof t&&-1!==e&&-1!==i&&n.size()){var r=this._status.size,s=this.options,o=s.threshold,a=s.append,h=s.prepend,u=n.get(),c=t+r,l=Math.max.apply(Math,u[e].outlines.start),f=Math.min.apply(Math,u[i].outlines.end),d=u.map(function(e,i){var n=e.outlines,r=n.start,s=n.end;if(!r.length||!s.length)return!1;var a=Math.min.apply(Math,r),h=Math.max.apply(Math,s);return a-o<=c&&t<=h+o}),p=d.indexOf(!0),g=d.lastIndexOf(!0);~p&&p<e?h({cache:u.slice(p,Math.min(e,g+1))}):i<g?a({cache:u.slice(Math.max(p,i+1),g+1)}):c>=f-o?a({cache:u.slice(i+1,i+2)}):t<=l+o&&h({cache:u.slice(e-1,e)})}},e.setCursor=function(t,e){var i=this._status,n=this._items,r=n.size();if(!this.options.useRecycle){if(i.startCursor=0,n.getOutline(r-1,"end").length)return void(i.endCursor=r-1);if("end"!==t)return}"start"===t?i.startCursor=e:i.endCursor=Math.min(r-1,e),i.startCursor=Math.max(0,i.startCursor)},e.setStatus=function(t){this._status=X(this._status,t)},e.getStatus=function(t,e){var i=this._status,n=i.startCursor,r=i.endCursor,s=i.size,o=Math.max(this._items.indexOf(t),0),a=(this._items.indexOf(e)+1||this._items.size())-1,h=Math.max(n-o,~n?0:-1);return{startCursor:h,endCursor:Math.max(Math.min(r-o,a-o),h),size:s}},e.getEdgeOutline=function(t){var e=this._status,i=e.startCursor,n=e.endCursor;return-1===i||-1===n?[]:this._items.getOutline("start"===t?i:n,t)},e.getEdgeValue=function(t){var e=this.getEdgeOutline(t);return e.length?Math["start"===t?"min":"max"].apply(Math,e):0},e.getVisibleItems=function(){return this._items.pluck("items",this._status.startCursor,this._status.endCursor)},e.getCursor=function(t){return this._status["start"===t?"startCursor":"endCursor"]},e.getVisibleData=function(){return this._items.get(this._status.startCursor,this._status.endCursor)},e.remove=function(t){var e=this._status,i=e.startCursor,n=e.endCursor,r=this._items.remove(t,i,n);return r.groups.length&&this.setCursor("end",n-1),this._items.size()||(this._status.startCursor=-1,this._status.endCursor=-1),r},e.clear=function(){this._status={startCursor:-1,endCursor:-1,size:-1}},t}(),rt=[];function st(){ot.resizeAll()}var ot=function(){function t(){}return t.add=function(e,i){void 0===i&&(i="data-"),rt.length||k(s,"resize",st),e.__PREFIX__=i,rt.push(e),t.resize(e)},t.remove=function(t,e){void 0===e&&(e=!1);var i=t.getAttribute(t.__PREFIX__+"fixed")||"width";e||(t.style["width"===i?"height":"width"]="");var n=rt.indexOf(t);n<0||(rt.splice(n,1),rt.length||F(s,"reisze",st))},t.resize=function(t,e){void 0===e&&(e="data-");var i="string"==typeof t.__PREFIX__?t.__PREFIX__:e,n=parseInt(t.getAttribute(i+"width"),10)||0,r=parseInt(t.getAttribute(i+"height"),10)||0;if("height"===t.getAttribute(i+"fixed")){var s=q(t)||r;t.style.width=n/r*s+"px"}else{s=V(t)||n;t.style.height=r/n*s+"px"}},t.resizeAll=function(){rt.forEach(function(e){return t.resize(e)})},t}();function at(t,e){return!!t.getAttribute(e+"width")}var ht=function(){function t(){}return t.waitImageLoaded=function(t,e){var i=e.prefix,n=void 0===i?"":i,r=e.length,s=e.type,o=e.complete,a=e.error,h=e.end,u=0,c=r;2!==s&&(u=c);var l=function(){0==--c&&h&&h()},f=function(){0===--u&&o&&o()},d=function(t,e){void 0===e&&(e=t.__ITEM_INDEX__),a&&a({target:t,itemIndex:e})},g=function(t){var e=t.target||t.srcElement;F(e,"error",g),F(e,"load",g),1===s&&at(e,n)?ot.remove(e,"error"===t.type):f(),"error"===t.type&&d(e),delete e.__ITEM_INDEX__,l()};t.forEach(function(t,e){t.forEach(function(t){if(t.complete&&(!p||p&&t.naturalWidth))return t.naturalWidth||d(t,e),f(),void l();t.__ITEM_INDEX__=e,1===s&&at(t,n)&&(ot.add(t,n),f()),k(t,"load",g),k(t,"error",g),p&&t.setAttribute("src",t.getAttribute("src"))})})},t.checkImageLoaded=function(t){return"IMG"===t.tagName?t.complete?[]:[t]:A(t.querySelectorAll("img"))},t.check=function(t,e){var i=this,n=e.prefix,r=e.type,s=void 0===r?1:r,o=e.complete,a=e.error,h=e.end,u=t.map(function(t){return i.checkImageLoaded(t)}),c=u.reduce(function(t,e){return t+e.length},0);2!==s&&0!==c||setTimeout(function(){o&&o(),0===c&&h&&h()},0),c>0&&setTimeout(function(){i.waitImageLoaded(u,{prefix:n,length:c,type:s,complete:o,error:a,end:h})},0)},t.CHECK_ALL=1,t.CHECK_ONLY_ERROR=2,t}();function ut(t,e){return~t.indexOf(e)}var ct=function(){function t(t,e,i){void 0===i&&(i={}),X(this.options={attributePrefix:"data-",isEqualSize:!1,isConstantSize:!1,horizontal:!1},i),this._items=t,this._renderer=e,this._layout=null}var e=t.prototype;return e.setLayout=function(t){this._layout=t},e.setSize=function(t){this._layout.setSize(t)},e.append=function(t,e){var i=t.groups,n=t.items,r=t.isUpdate;this._insert({groups:i,items:n,isUpdate:r,isAppend:!0},e)},e.prepend=function(t,e){var i=t.groups,n=t.items,r=t.isUpdate;this._insert({groups:i,items:n,isUpdate:r,isAppend:!1},e)},e.layout=function(t,e,i){var n=this._renderer,r=n.options,s=r.isEqualSize,o=r.isConstantSize,a=e.filter(function(t){var e=t.items[0];return e.orgSize&&e.rect.top>-1e4});if(!a.length)return[];var h=a[0].outlines.start;return t&&(h=[h.length?Math.min.apply(Math,h):0],!o&&i.length&&(n.updateSize(i),s&&i[0].size&&$.pluck(a,"items").forEach(function(t){t.size=X({},i[0].size)}))),this._layout.layout(a,h),a},e.destroy=function(){this._items=null,this._renderer=null},e._complete=function(t,e,i,n,r){var s=this,o=this._items,a=i?"end":"start",h=o.indexOf(t[0]),u=o.getData(h+(i?-1:1)),c=u?u.outlines[a]:[0];this._renderer.updateSize(e),r({groups:t.map(function(t){var e=t.outlines[i?"start":"end"];if(!(n||!c.length||c.length!==e.length||!c.every(function(t,i){return t===e[i]})))return c=t.outlines[i?"end":"start"],et.renderItems(t.items),t;var r=t.items,o=s._layout[i?"append":"prepend"](r,c,!0);return X(t,o),et.renderItems(o.items),c=o.outlines[i?"end":"start"],o}),items:e,isAppend:i})},e._error=function(t,e,i,n,r,s){var o=n[r],a=o.el,h=this.options.attributePrefix,u=function(){if(!ut(t,a)){t.push(a);var i=e.indexOf(r);-1!==i&&e.splice(i,1)}};s({target:i,element:a,items:n,item:o,itemIndex:r,replace:function(n){if(!ut(t,a)){if(n)if(T(n)||"object"==typeof n){var s=i.parentNode;s.insertBefore(R(n),i),s.removeChild(i),o.content=a.outerHTML}else i.src=n,i.getAttribute(h+"width")&&(ot.remove(i),i.removeAttribute(h+"width"),i.removeAttribute(h+"height"));o.content=a.outerHTML,ut(e,r)||e.push(r)}},replaceItem:function(i){ut(t,a)||(a.innerHTML=i,o.content=a.outerHTML,ut(e,r)||e.push(r))},remove:function(){i!==a?ut(t,a)||(i.parentNode.removeChild(i),o.content=a.outerHTML,ut(e,r)||e.push(r)):u()},removeItem:u})},e._end=function(t,e,i,n){var r=this,s=this.options.attributePrefix,o=t.length,a=e.length;if(o||a){var h=e.map(function(t){return i[t]});a?ht.check(h.map(function(t){return t.el}),{prefix:s,complete:function(){r._renderer.updateSize(h),n({remove:t,layout:!0})}}):n({remove:t,layout:!0})}else n({remove:[]})},e._insert=function(t,e){var i=this,n=t.groups,r=t.items,s=void 0===r?$.pluck(n,"items"):r,o=t.isAppend,a=t.isUpdate,h=e.error,u=void 0===h?function(){}:h,c=e.complete,l=void 0===c?function(){}:c,f=e.end,d=void 0===f?function(){}:f;if(n.length){var p=o?n:n.reverse(),g=[],_=[],v=s.map(function(t){return t.el}),m=this.options.isEqualSize&&this._renderer._size.item?2:1,y=this.options.attributePrefix;ht.check(v,{prefix:y,type:m,complete:function(){i._items&&i._complete(p,s,o,a,l)},error:function(t){var e=t.target,n=t.itemIndex;i._items&&i._error(_,g,e,s,n,u)},end:function(){i._items&&i._end(_,g,s,d)}})}},t}(),lt=function(t){function e(e,i){var n=t.call(this)||this;X(n.options={itemSelector:"*",isOverflowScroll:!1,threshold:100,isEqualSize:!1,isConstantSize:!1,useRecycle:!0,horizontal:!1,transitionDuration:0,useFit:!0,attributePrefix:"data-"},i),x&&(n.options.useFit=!1),_&&(n.options.isOverflowScroll=!1),n._reset(),n._loadingBar={};var r=n.options,s=r.isOverflowScroll,o=r.isEqualSize,a=r.isConstantSize,h=r.horizontal,u=r.threshold,c=r.useRecycle;return n._items=new $,n._renderer=new et(e,{isEqualSize:o,isConstantSize:a,horizontal:h,container:s}),n._watcher=new it(n._renderer.view,{isOverflowScroll:s,horizontal:h,container:n._renderer.container,resize:function(){return n._onResize()},check:function(t){return n._onCheck(t)}}),n._infinite=new nt(n._items,{useRecycle:c,threshold:u,append:function(t){return n._requestAppend(t)},prepend:function(t){return n._requestPrepend(t)},recycle:function(t){return n._recycle(t)}}),n}a(e,t);var i=e.prototype;return i.append=function(t,e){return this._manager&&this._insert({elements:t,isAppend:!0,groupKey:e}),this},i.prepend=function(t,e){return this._manager&&this._insert({elements:t,isAppend:!1,groupKey:e}),this},i.setLayout=function(t,e){void 0===e&&(e={});var i=this.options,n=i.isEqualSize,r=i.isConstantSize,s=i.attributePrefix,o=i.horizontal;return this._manager||(this._manager=new ct(this._items,this._renderer,{attributePrefix:s,isEqualSize:n,isConstantSize:r})),"function"==typeof t?this._manager.setLayout(new t(X(e,{horizontal:o}))):(t.options.horizontal=o,this._manager.setLayout(t)),this._renderer.resize(),this._setSize(this._renderer.getViewportSize()),this},i.getItems=function(t){return void 0===t&&(t=!1),t?this._items.pluck("items"):this._infinite.getVisibleItems()},i.layout=function(t){if(void 0===t&&(t=!0),!this._manager)return this;var e=this._renderer,i=this._items,n=this._infinite,r=e.resize(),s=this.getItems(),o=this.options,a=o.isEqualSize,h=o.isConstantSize,u=o.transitionDuration,c=t&&(a||h),l=i.size();if(t&&(this._watcher.resize(),r&&this._setSize(e.getViewportSize())),!l||!s.length){var f=A(e.container.children);return f.length?this._insert({elements:f,isAppend:!0,isChildren:!0}):(e.getContainerSize()&&e.setContainerSize(0),this._requestAppend({})),this}var d=n.getCursor("start"),p=n.getCursor("end"),g=!c&&t&&r?i.get(d,p):i.get();return this._manager.layout(t,g,r?s:[]),c?this._fit():t&&r&&i.clearOutlines(d,p),et.renderItems(s,u),t&&this._watcher.setScrollPos(),this._onLayoutComplete({items:s,isAppend:!0,fromCache:!0,isTrusted:!1,useRecycle:!1,isLayout:!0}),this},i.remove=function(t,e){if(void 0===e&&(e=!0),t){var i=this._infinite.remove(t),n=i.items,r=i.groups;return n&&et.removeElement(t),e&&this.layout(r.length>0),n}return null},i.getGroupKeys=function(t){return(t?this._items.get():this._infinite.getVisibleData()).map(function(t){return t.groupKey})},i.getStatus=function(t,e){return{_status:X({},this._status),_items:this._items.getStatus(t,e),_renderer:this._renderer.getStatus(),_watcher:this._watcher.getStatus(),_infinite:this._infinite.getStatus(t,e)}},i.setStatus=function(t,e){if(void 0===e&&(e=!0),!t)return this;var i=t._status,n=t._renderer,r=t._items,s=t._watcher,o=t._infinite;if(!(i&&n&&r&&s&&o))return this;var a=this._items,h=this._renderer,u=this._watcher,c=this._infinite;u.detachEvent(),X(this._status,i),this._status.processingStatus=0,a.setStatus(r),h.setStatus(n),c.setStatus(o);var l=this.getItems(),f=l.length;h.createAndInsert(l,!0);var d=h.isNeededResize();u.setStatus(s,e),u.attachEvent();var p=this.options,g=p.isConstantSize,_=p.isEqualSize;return f?d?(h.resize(),this._setSize(h.getViewportSize()),g?this.layout(!0):(this._items.clearOutlines(),this._postLayout({fromCache:!0,groups:_?a.get():c.getVisibleData(),items:l,newItems:l,isAppend:!0,isTrusted:!1}))):this.layout(!1):this._requestAppend({cache:[]}),this},i.clear=function(){return this._items.clear(),this._renderer.clear(),this._infinite.clear(),this._reset(),this._appendLoadingBar(),this},i.setLoadingBar=function(t){void 0===t&&(t={});var e="object"==typeof t?t:{append:t,prepend:t};this._status.loadingSize=0,this._status.loadingStyle={};var i=this._loadingBar;for(var n in e)i[n]=R(e[n]),i[n].className+=" _eg-infinitegrid-ignore_";return this._appendLoadingBar(),this},i.isProcessing=function(){return this._isProcessing()||this._isLoading()},i.getLoadingBar=function(t){return void 0===t&&(t=2!==this._getLoadingStatus()),this._loadingBar[t?"append":"prepend"]},i.startLoading=function(t,e){if(void 0===e&&(e={display:"block"}),this._isLoading())return this;var i=t?"append":"prepend";return this._process(t?1:2),this._loadingBar[i]?(this._renderLoading(e),this._status.loadingStyle=e,t?this._setContainerSize(this._getEdgeValue("end")+this._status.loadingSize):this._fit(),this):this},i.endLoading=function(t){if(void 0===t&&(t={display:"none"}),!this._isLoading())return this;var e,i=1===this._getLoadingStatus(),n=i?"append":"prepend",r=this._loadingBar[n],s=this._status,o=s.loadingSize;if(this._process(3,!1),s.loadingSize=0,s.loadingStyle={},r){var a=X(((e={})[this.options.horizontal?"left":"top"]=-o+"px",e),t);for(var h in a)r.style[h]=a[h];i?this._setContainerSize(this._getEdgeValue("end")):this._fitItems(o)}return this.options.useRecycle&&!this.isProcessing()&&this._infinite.recycle(this._watcher.getScrollPos(),i),this},i.getItem=function(t,e){if(void 0===t&&(t=0),null!=e||"object"!=typeof t){var i=this._items.getData(t);return i&&i.items[e||0]}if(t)for(var n=this.getItems(),r=n.length,s=0;s<r;++s)if(n[s].el===t)return n[s]},i.updateItem=function(t,e){var i=this.getItem(t,e);return this._updateItem(i)&&this.layout(!1),this},i.updateItems=function(){var t=this;return this.getItems().forEach(function(e){t._updateItem(e)}),this.layout(!1),this},i.moveTo=function(t,e){if(void 0===e&&(e=0),this.isProcessing())return this;var i=this._items.getData(t);if(!i)return this;var n=this._infinite,r=i.outlines,s=i.items,o=s[e],a=r.start&&0===r.start.length,h=n.getCursor("start"),u=n.getCursor("end"),c=h<=t&&t<=u,l=this.options,f=l.useRecycle,d=l.horizontal;if(c||!f||!a){var p=o?o.rect[d?"left":"top"]:Math.max.apply(Math,r.start),g=Math.min.apply(Math,r.start);g<0&&(this._fitItems(g,0),p-=g);var _=t>h;return c||_?(this._scrollTo(p),this):(this._postLayout({fromCache:!0,groups:[i],items:s,newItems:[],isAppend:_,isTrusted:!1,moveCache:!0,moveItem:e}),this)}_=t>u||t<h-1;return this._postCache({isAppend:_,cache:[i],isTrusted:!1,moveItem:e}),this},i.destroy=function(){this._infinite.clear(),this._watcher.destroy(),this._manager.destroy(),this._reset(),this._items.clear(),this._renderer.destroy()},i._setContainerSize=function(t){this._renderer.setContainerSize(Math.max(this._items.getMaxEdgeValue(),t))},i._appendLoadingBar=function(){var t=this._loadingBar,e=this._renderer.container;for(var i in t)e.appendChild(t[i])},i._setSize=function(t){this._infinite.setSize(this._renderer.getViewSize()),this._manager.setSize(t)},i._fitItems=function(t,e){void 0===e&&(e=0),t>0&&this._watcher.scrollBy(-t),this._items.fit(t,this.options.horizontal),et.renderItems(this.getItems()),this._setContainerSize(this._getEdgeValue("end")||e),t<0&&this._watcher.scrollBy(-t)},i._fit=function(t){void 0===t&&(t=this.options.useFit);var e=this._getEdgeValue("start"),i=2===this._getLoadingStatus()&&this._status.loadingSize||0,n=this.options,r=n.isConstantSize,s=n.isEqualSize;if(!n.useRecycle||!t||r||s)e<i&&this._fitItems(e-i,i),e=0;else{if(0===e&&!i)return 0;this._fitItems(e-i,i)}return this._isLoading()&&this._renderLoading(),e},i._getEdgeValue=function(t){return this._infinite.getEdgeValue(t)},i._isProcessing=function(){return(4&this._status.processingStatus)>0},i._isLoading=function(){return this._getLoadingStatus()>0},i._getLoadingStatus=function(){return 3&this._status.processingStatus},i._process=function(t,e){void 0===e&&(e=!0),e?this._status.processingStatus|=t:this._status.processingStatus-=this._status.processingStatus&t},i._insert=function(t){var e=t.elements,i=t.isAppend,n=t.isChildren,r=t.groupKey,s=void 0===r?(new Date).getTime()+Math.floor(1e3*Math.random()):r;if(!this._isProcessing()&&0!==e.length){var o=$.from(e,this.options.itemSelector,{groupKey:s});if(o.length){var a={groupKey:s,items:o,outlines:{start:[],end:[]}},h=i?"append":"prepend";if(this._items[h](a),!i){var u=this._infinite,c=u.getCursor("start"),l=u.getCursor("end");u.setCursor("start",c+1),u.setCursor("end",l+1)}this._postLayout({fromCache:!1,groups:[a],items:o,newItems:o,isAppend:i,isChildren:n,isTrusted:!1})}}},i._recycle=function(t){var e=t.start,i=t.end;this.options.useRecycle&&et.removeItems(this._items.pluck("items",e,i))},i._renderLoading=function(t){if(void 0===t&&(t=this._status.loadingStyle),this._isLoading()){var e=1===this._getLoadingStatus(),i=this._loadingBar[e?"append":"prepend"];if(i){var n=X({position:"absolute"},t);for(var r in n)i.style[r]=n[r];this._status.loadingSize=this.options.horizontal?B(i):j(i);var s=this.options.horizontal?"left":"top";if(!(s in n)){var o=e?this._getEdgeValue("end"):this._getEdgeValue("start")-this._status.loadingSize;i.style[s]=o+"px"}}}},i._updateItem=function(t){return!(!t||!t.el)&&(t.content=t.el.outerHTML,!this.options.isEqualSize&&function(t){t.orgSize=null,t.size=null}(t),this._renderer.updateSize([t]),!0)},i._setScrollPos=function(t){this._watcher.setScrollPos(this._watcher.getContainerOffset()+t)},i._scrollTo=function(t){this._watcher.scrollTo(this._watcher.getContainerOffset()+t)},i._onImageError=function(t){this.trigger("imageError",X(t,{element:t.item.el}))},i._postCache=function(t){var e=t.cache,i=t.isAppend,n=t.isTrusted,r=void 0===n||n,s=t.moveItem,o=void 0===s?-1:s,a=this.options.isConstantSize,h=$.pluck(e,"items"),u=!0,c=h.filter(function(t){return t.orgSize?!a&&t.rect.top<-1e4:(u=!1,!0)});this._postLayout({fromCache:u,groups:e,items:h,newItems:c,isAppend:i,isTrusted:r,moveItem:o})},i._postLayout=function(t){var e=this,i=t.fromCache,n=t.groups,r=t.items,s=void 0===r?$.pluck(n,"items"):r,o=t.newItems,a=t.isAppend,h=t.isChildren,u=t.isTrusted,c=t.moveCache,l=t.moveItem,f=void 0===l?-2:l;this._process(4);var d=a?"append":"prepend",p=this._items,g=this.options.horizontal;return h||(et.createElements(s),this._renderer[d](s)),this._manager[d]({groups:n,items:o},{complete:function(){var t=e._infinite,r=Math.max(t.getCursor("start"),0),o=Math.max(t.getCursor("end"),0),h=p.indexOf(n[0].groupKey),l=p.indexOf(n[n.length-1].groupKey),d=!0;if((h>o+1||l<r-1)&&(d=!1),d&&(a?(h=r,l=Math.max(o,l)):(h=Math.max(Math.min(r,h),0),l=o)),!d&&e._recycle({start:r,end:o}),t.setCursor("start",h),t.setCursor("end",l),f>-1){var _=s[f].rect[g?"left":"top"];d||c||p.clearOutlines(h,l),e._scrollTo(_),e._setScrollPos(_)}e._onLayoutComplete({items:s,isAppend:a,fromCache:i,isTrusted:u,useRecycle:!1})},error:function(t){return e._onImageError(t)},end:function(t){var i=t.remove,n=t.layout;if(i.forEach(function(t){return e.remove(t,!1)}),n)e.layout(!1);else if(!e.isProcessing()&&e.options.useRecycle){var r=e._watcher.getScrollPos();e._infinite.recycle(r,a)}}}),this},i._requestAppend=function(t){var e=this,i=t.cache;this._isProcessing()||(i&&i.length?this._postCache({cache:i,isAppend:!0}):this.trigger("append",{isTrusted:!0,groupKey:this.getGroupKeys().pop()||"",startLoading:function(t){e.startLoading(!0,t)},endLoading:function(t){e.endLoading(t)}}))},i._requestPrepend=function(t){var e=this,i=t.cache;this._fit(this.options.useFit||!i.length),this._isProcessing()||(i&&i.length?this._postCache({cache:i,isAppend:!1}):this.trigger("prepend",{isTrusted:!0,groupKey:this.getGroupKeys().shift(),startLoading:function(t){e.startLoading(!1,t)},endLoading:function(t){e.endLoading(t)}}))},i._onResize=function(){this.layout(!0)},i._onCheck=function(t){var e=t.isForward,i=t.scrollPos,n=t.horizontal,r=t.orgScrollPos;this.trigger("change",{isForward:e,horizontal:n,scrollPos:i,orgScrollPos:r}),this._infinite.scroll(i)},i._onLayoutComplete=function(t){var e=this,i=t.items,n=t.isAppend,r=t.isTrusted,s=void 0!==r&&r,o=t.useRecycle,a=void 0===o?this.options.useRecycle:o,h=t.fromCache,u=void 0!==h&&h,c=t.isLayout,l=void 0!==c&&c,f=this._renderer.getViewSize();n?this._isLoading()&&this._renderLoading():this._fit();var d=this._watcher,p=d.getScrollPos();l||!a||this._isLoading()||this._infinite.recycle(p,n);var _=this._getEdgeValue("end");n&&(this._setContainerSize(_+this._status.loadingSize||0),p>0&&!g&&this._scrollTo(p)),!l&&this._process(4,!1),this.trigger("layoutComplete",{target:i.concat(),isAppend:n,isTrusted:s,fromCache:u,isLayout:l,isScroll:f<d.getContainerOffset()+_,scrollPos:p,orgScrollPos:d.getOrgScrollPos(),size:_,endLoading:function(t){e.endLoading(t)}}),this._infinite.scroll(p)},i._reset=function(){this._status={processingStatus:0,loadingSize:0,loadingStyle:{}}},e.VERSION="3.5.1",e}(r),ft=w,dt=C,pt=I,gt=E,_t=function(){function t(t){void 0===t&&(t={}),this.options=G({margin:0,horizontal:!1,align:ft,itemSize:0},t),this._size=0,this._columnSize=0,this._columnLength=0,this._style=W(this.options.horizontal)}var e=t.prototype;return e.append=function(t,e,i){return this._insert(t,e,!0,i)},e.prepend=function(t,e,i){return this._insert(t,e,!1,i)},e.layout=function(t,e){var i=this;void 0===t&&(t=[]),void 0===e&&(e=[]);var n,r=t.length&&t[0].items.length&&t[0].items[0];if(this.checkColumn(r),e.length!==this._columnLength){var s=0===e.length?0:Math.min.apply(Math,e);n=Q(new Array(this._columnLength),s)}else n=e.slice();return t.forEach(function(t){var e=t.items,r=i._layout(e,n,!0);t.outlines=r,n=r.end}),this},e.setSize=function(t){return this._size=t,this},e.checkColumn=function(t){var e=this.options,i=e.itemSize,n=e.margin,r=e.horizontal?"height":"width",s=Math.floor(i||t&&t.size[r]||0)||0;this._columnSize=s,this._columnLength=s?Math.max(Math.floor((this._size+n)/(s+n)),1):1},e._layout=function(t,e,i){for(var n,r=t.length,s=this.options.margin,o=this.options.align,a=this._style,h=a.size1,u=a.size2,c=a.startPos1,l=a.startPos2,f=this._columnSize,d=this._columnLength,p=this._size,g=p-(f+s)*d+s,_=i?"min":"max",v=e.slice(),m=e.slice(),y=0;y<r;++y){var z=Math[_].apply(Math,m)||0,S=m.indexOf(z),w=t[i?y:r-1-y],C=w.size[h],I=w.size[u],E=i?z:z-s-C,M=E+C+s;-1===S&&(S=0);var L=(f+s)*S;o===dt?L+=g/2:o===pt?L+=g+f-I:o===gt&&(d<=1?L+=g/2:L=(p-f)/(d-1)*S),w.rect=((n={})[c]=E,n[l]=L,n),w.column=S,m[S]=i?M:E}return i||t.sort(function(t,e){var i=t.rect[c],n=t.rect[l],r=e.rect[c],s=e.rect[l];return i-r?i-r:n-s}),{start:i?v:m,end:i?m:v}},e._insert=function(t,e,i,n){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=n?t:U(t),s=e;return this._columnLength||this.checkColumn(t[0]),e.length!==this._columnLength&&(s=Q(new Array(this._columnLength),e.length&&Math[i?"min":"max"].apply(Math,e)||0)),{items:r,outlines:this._layout(r,s,i)}},t}();function vt(t,e,i,n,r,s){for(var o={left:n,top:i,type:e,width:1,height:1},a=n;a<r&&t[i][a]===e;++a)o.width=a-n+1;for(a=i;a<s&&t[a][n]===e;++a)o.height=a-i+1;return function(t,e,i,n,r,s){for(var o=i;o<i+s;++o)for(var a=n;a<n+r;++a)e===t[o][a]&&(t[o][a]=0)}(t,e,i,n,o.width,o.height),o}var mt=function(){function t(t){void 0===t&&(t={}),this.options=G({margin:0,horizontal:!1,itemSize:0,frame:[],frameFill:!0},t);var e=this.options.frame.map(function(t){return t.slice()});this._itemSize=this.options.itemSize||0,this._shapes=function(t){for(var e=t.length,i=e?t[0].length:0,n=[],r=0;r<e;++r)for(var s=0;s<i;++s){var o=t[r][s];o&&n.push(vt(t,o,r,s,i,e))}return n.sort(function(t,e){return t.type<e.type?-1:1}),{shapes:n,width:i,height:e}}(e),this._size=0,this._style=W(this.options.horizontal)}var e=t.prototype;return e.layout=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]);for(var i=t.length,n=e,r=0;r<i;++r){var s=t[r],o=this._layout(s.items,n,!0);s.outlines=o,n=o.end}return this},e.setSize=function(t){return this._size=t,this},e.append=function(t,e,i){return this._insert(t,e,!0,i)},e.prepend=function(t,e,i){return this._insert(t,e,!1,i)},e._getItemSize=function(){return this._checkItemSize(),this._itemSize},e._checkItemSize=function(){if(this.options.itemSize)this._itemSize=this.options.itemSize;else{var t=this._style.size2,e=this.options.margin;this._itemSize=(this._size+e)/this._shapes[t]-e}},e._layout=function(t,e,i){void 0===e&&(e=[]);var n=t.length,r=this._style,s=this.options,o=s.margin,a=s.frameFill,h=r.size1,u=r.size2,c=r.startPos1,l=r.startPos2,f=this._getItemSize(),d="object"==typeof f,p=d?f[u]:f,g=d?f[h]:f,_=this._shapes[u],v=this._shapes.shapes,m=v.length,y=Q(new Array(_),-1e5),z=Q(new Array(_),-1e5),S=0,w=0;if(!m)return{start:e,end:e};for(var C=0;C<n;C+=m){for(var I=0;I<m&&C+I<n;++I){for(var E=t[C+I],M=v[I],L=M[c],x=M[l],P=M[h],O=M[u],b=w-S+L*(g+o),A=x*(p+o),T=P*(g+o)-o,R=O*(p+o)-o,k=x;k<x+O&&k<_;++k)-1e5===y[k]&&(y[k]=b),y[k]=Math.min(y[k],b),z[k]=Math.max(z[k],b+T+o);E.rect=((F={})[c]=b,F[l]=A,F[h]=T,F[u]=R,F)}if(w=Math.max.apply(Math,z),0===C)if(a){S=w;for(I=0;I<_;++I)-1e5!==y[I]&&(S=Math.min(y[I]+w-z[I],S))}else S=0}for(C=0;C<_;++C)-1e5===y[C]&&(y[C]=Math.max.apply(Math,y),z[C]=y[C]);var F,N=i?y:z,H=0===e.length?0:Math[i?"max":"min"].apply(Math,e),V=i?0:w;if(a&&e.length===_){V=1e5;for(C=0;C<_;++C)y[C]!==z[C]&&(V=Math.min(N[C]+H-e[C],V))}for(C=0;C<_;++C)y[C]+=H-V,z[C]+=H-V;return t.forEach(function(t){t.rect[c]+=H-V}),{start:y.map(function(t){return parseInt(t,10)}),end:z.map(function(t){return parseInt(t,10)})}},e._insert=function(t,e,i,n){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=n?t:U(t);return{items:r,outlines:this._layout(r,e,i)}},t}();function yt(t){if(t.column)return t.column;var e=0;if(t.el){var i=t.el.dataset;e=i?parseInt(i.column,10)||1:parseInt(t.el.getAttribute("column"),10)||1}else e=1;return t.column=e,e}var zt=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}a(e,t);var i=e.prototype;return i._checkItemSize=function(){var e=this.options.column;if(e){var i=this.options.margin;this._itemSize=(this._size+i)/e-i}else t.prototype._checkItemSize.call(this)},i._layout=function(e,i,n){void 0===i&&(i=[]);for(var r=this._getItemSize(),s=this.options.margin,o=this.options.column||Math.floor((this._size+s)/(r+s))||1,a=e.length,h=function(t,e,i,n){var r=Math[n?"min":"max"].apply(Math,t)||0;return t.length!==i?Q(new Array(i),0):t.map(function(t){return Math.floor((t-r)/e)})}(i,r,o,n),u=n?"min":"max",c=[],l=n?1:-1,f=this._style,d=f.startPos1,p=f.startPos2,g=0;g<a;++g){var _=Math[u].apply(Math,h),v=h[n?"indexOf":"lastIndexOf"](_),m=e[g],y=m.columnWidth,z=y&&y[0]===o&&y[1]||yt(m),S=1;if(z>1){for(var w=1;w<z&&(n&&v+w<o||!n&&v-w>=0)&&(n&&h[v+l*w]<=_||!n&&h[v+l*w]>=_);++w)++S;n||(v-=S-1)}m.columnWidth=[o,S],c.push(((C={width:S,height:S})[d]=_-(n?0:S),C[p]=v,C.type=g+1,C.index=g,C));for(w=0;w<S;++w)h[v+w]=_+l*S}this._shapes=((I={shapes:c})[f.size2]=o,I);var C,I,E=t.prototype._layout.call(this,e,i,n);return n||(c.sort(function(t,e){var i=t[d],n=t[p],r=e[d],s=e[p];return i-r?i-r:n-s}),e.sort(function(t,e){var i=t.rect[d],n=t.rect[p],r=e.rect[d],s=e.rect[p];return i-r?i-r:n-s})),E},e}(mt),St=function(){function t(t){X(this,{originWidth:0,originHeight:0,width:0,height:0,left:0,top:0,items:[]},t)}var e=t.prototype;return e.scaleTo=function(t,e){var i=this.width?t/this.width:0,n=this.height?e/this.height:0;this.items.forEach(function(t){0!==i&&(t.left*=i,t.width*=i),0!==n&&(t.top*=n,t.height*=n)}),this.width=t,this.height=e},e.push=function(t){this.items.push(t)},e.getOriginSize=function(){return this.originWidth*this.originHeight},e.getSize=function(){return this.width*this.height},e.getOriginRatio=function(){return 0===this.originHeight?0:this.originWidth/this.originHeight},e.getRatio=function(){return 0===this.height?0:this.width/this.height},t}();function wt(t,e){var i=t/e;return i<1&&(i=1/i),i-1}var Ct=function(){function t(t){void 0===t&&(t={}),this.options=G({margin:0,horizontal:!1,aspectRatio:1,sizeWeight:1,ratioWeight:1},t),this._size=0,this._style=W(this.options.horizontal)}var e=t.prototype;return e.append=function(t,e,i){return this._insert(t,e,!0,i)},e.prepend=function(t,e,i){return this._insert(t,e,!1,i)},e.layout=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]);for(var i=t.length,n=e,r=0;r<i;++r){var s=t[r],o=this._layout(s.items,n,!0);s.outlines=o,n=o.end}return this},e.setSize=function(t){return this._size=t,this},e._findBestFitArea=function(t,e){if(0===t.getRatio())return t.originWidth=e.width,t.originHeight=e.height,t.width=e.width,void(t.height=e.height);var i=null,n=1e7,r=!1,s={width:0,height:0},o={width:0,height:0},a=this.options,h=a.sizeWeight,u=a.ratioWeight;t.items.forEach(function(t){for(var a,c=wt(t.getOriginSize(),t.getSize())*h,l=wt(t.getOriginRatio(),t.getRatio())*u,f=t.width,d=t.height,p=0;p<2;++p){var g=void 0,_=void 0,v=void 0,m=void 0;0===p?(g=f,v=f,m=d-(_=d*(e.height/(t.originHeight+e.height)))):(_=d,m=d,v=f-(g=f*(e.width/(t.originWidth+e.width))));var y=g*_,z=g/_,S=v*m,w=m/m;a=wt(e.getSize(),y)*h,a+=wt(e.getRatio(),z)*u,a+=wt(t.getOriginSize(),S)*h-c,(a+=wt(t.getOriginRatio(),w)*u-l)===Math.min(a,n)&&(n=a,i=t,r=0===p,s.width=g,s.height=_,o.width=v,o.height=m)}}),function(t,e,i,n,r){t.height=i.height,t.width=i.width,e.height=n.height,e.width=n.width,r?(t.top=e.top+e.height,t.left=e.left):(t.left=e.left+e.width,t.top=e.top)}(e,i,s,o,r)},e._layout=function(t,e,i){var n=this;void 0===e&&(e=[]);var r=this._style,s=this.options,o=s.horizontal,a=s.aspectRatio,h=s.margin,u=r.startPos1,c=this._size*(o?a:1),l=this._size/(o?1:a),f=o?c:l,d=function(t){return t&&t.length?t:[0]}(e),p=i?Math.max.apply(Math,d):Math.min.apply(Math,d)-f-h,g=p+f+h,_=new St({});return t.forEach(function(t){var e=t.orgSize,i=e.width,r=e.height,s=new St({width:i,height:r,originWidth:i,originHeight:r});n._findBestFitArea(_,s),_.push(s),_.scaleTo(c+h,l+h)}),t.forEach(function(t,e){var i=_.items[e],n=i.width,r=i.height,s=i.top,o=i.left;t.rect={top:s,left:o,width:n-h,height:r-h},t.rect[u]+=p}),{start:[p],end:[g]}},e._insert=function(t,e,i,n){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=n?t:U(t);return{items:r,outlines:this._layout(r,e,i)}},t}();function It(t,e,i){return function(t,e){for(var i=[],n=e;n;)i.push(n),n=t[n];return i.reverse(),i}(function(t,e,i){var n={},r={};r[e]=0;var s,o,a,h,u,c,l=new Et(function(t){return t.cost});for(l.push({value:e,cost:0});l.size();)for(var f in o=(s=l.pop()).value,a=s.cost,h=t(o)||{})u=a+h[f],c=r[f],(void 0===r[f]||c>u)&&(r[f]=u,l.push({value:f,cost:u}),n[f]=o);if(void 0===r[i]){var d=["Could not find a path from ",e," to ",i,"."].join("");throw new Error(d)}return n}(t,e,i),i)}var Et=function(){function t(t){this.content=[],this.scoreFunction=t}var e=t.prototype;return e.push=function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},e.pop=function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},e.size=function(){return this.content.length},e.bubbleUp=function(t){for(var e=t,i=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(i)<this.scoreFunction(r)))break;this.content[n]=i,this.content[e]=r,e=n}},e.sinkDown=function(t){for(var e,i=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var s=2*(t+1),o=s-1,a=null;if(o<i){var h=this.content[o];(e=this.scoreFunction(h))<r&&(a=o)}if(s<i){var u=this.content[s];this.scoreFunction(u)<(null==a?r:e)&&(a=s)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}},t}(),Mt=function(){function t(t){void 0===t&&(t={}),this.options=G({margin:0,horizontal:!1,minSize:0,maxSize:0,column:[1,8]},t),this._style=W(this.options.horizontal),this._size=0}var e=t.prototype;return e.setSize=function(t){return this._size=t,this},e.append=function(t,e,i){return this._insert(t,e,!0,i)},e.prepend=function(t,e,i){return this._insert(t,e,!1,i)},e.layout=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]);for(var i=t.length,n=e,r=0;r<i;++r){var s=t[r],o=this._layout(s.items,n,!0);s.outlines=o,n=o.end}return this},e._layout=function(t,e,i){var n=this,r=this._style,s=r.size1,o=r.size2,a=t.length,h=this.options.column,u="object"==typeof h?h:[h,h],c=It(function(e){for(var i={},r=+e.replace(/[^0-9]/g,""),h=a+1,c=Math.min(r+u[0],h-1);c<h&&!(c-r>u[1]);++c){var l=n._getCost(t,r,c,s,o);null!==l&&(l<0&&c===h-1&&(l=0),i[""+c]=Math.pow(l,2))}return i},"0",""+a);return this._setStyle(t,c,e,i)},e._getSize=function(t,e,i){var n=this.options.margin,r=t.reduce(function(t,n){return t+n.orgSize[i]/n.orgSize[e]},0);return(this._size-n*(t.length-1))/r},e._getCost=function(t,e,i,n,r){var s=this._getSize(t.slice(e,i),n,r),o=this.options.minSize||0,a=this.options.maxSize||1/0;return isFinite(a)?s<o?Math.pow(s-o,2)+Math.pow(a,2):s>a?Math.pow(s-a,2)+Math.pow(a,2):Math.min(s-a,o-s):s<o?Math.max(Math.pow(o,2),Math.pow(s,2)):s-o},e._setStyle=function(t,e,i,n){void 0===i&&(i=[]);for(var r=this._style,s=r.startPos1,o=r.size1,a=r.startPos2,h=r.size2,u=e.length,c=this.options.margin,l=i[0]||0,f=l,d=0,p=0;p<u-1;++p){for(var g=parseInt(e[p],10),_=parseInt(e[p+1],10),v=t.slice(g,_),m=v.length,y=this._getSize(v,o,h),z=f,S=0;S<m;++S){var w=(L=v[S]).orgSize[h]/L.orgSize[o]*y,C=0===S?0:v[S-1].rect,I=C?C[a]+C[h]+c:0;L.rect=((E={})[s]=z,E[a]=I,E[o]=y,E[h]=w,E)}f=l+(d+=c+y)}var E,M=t.length;if(n)return{start:[l],end:[f]};for(p=0;p<M;++p){var L;(L=t[p]).rect[s]-=d}return{start:[l-d],end:[l]}},e._insert=function(t,e,i,n){void 0===t&&(t=[]),void 0===e&&(e=[]);var r=n?t:U(t);return{items:r,outlines:this._layout(r,e,i)}},t}();e.default=lt}}]);